"use strict";if(undefined==window.zolaTheme){window.zolaTheme={}}zolaTheme.color={Key:"theme-color-scheme",DarkPrefName:"dark",LightPrefName:"light",DarkClass:"dark",EventName:"set-theme",init:function(){this.HtmlClass=document.documentElement.classList;this.ThemeColorTag=document.head.querySelector('meta[name="theme-color"]');this.BrowserDarkPref=window.matchMedia("(prefers-color-scheme: dark)");const savedPref=localStorage.getItem(this.Key);if(savedPref){this.applyMode({applyDark:savedPref===this.DarkPrefName,doEvent:false})}else{this.applyMode({applyDark:this.BrowserDarkPref.matches,doEvent:false})}this.BrowserDarkPref.addEventListener("change",function(event){zolaTheme.color.applyMode({applyDark:event.matches,doEvent:true})});this.HtmlClass.remove("not-ready")},applyMode:function({applyDark:applyDark,doEvent:doEvent}){if(applyDark){this.HtmlClass.add(this.DarkClass)}else{this.HtmlClass.remove(this.DarkClass)}if(undefined!=this.ThemeColorTag){this.ThemeColorTag.setAttribute("content",applyDark?this.ThemeColorTag.dataset.dark:this.ThemeColorTag.dataset.light)}if(doEvent&&undefined!=document.body){document.body.dispatchEvent(new CustomEvent(this.EventName,{detail:applyDark?this.DarkPrefName:this.LightPrefName}))}},toggle:function(){const newMode=!this.HtmlClass.contains(this.DarkClass);this.applyMode({applyDark:newMode,doEvent:true});localStorage.setItem(this.Key,newMode?this.DarkPrefName:this.LightPrefName)},select:function({mode:mode,par:par}){if(mode==="dark"||mode==="light"){this.applyMode({applyDark:mode==="dark",doEvent:true});localStorage.setItem(this.Key,mode==="dark"?this.DarkPrefName:this.LightPrefName)}else if(mode==="reset"){this.reset()}par.removeAttribute("open")},reset:function(){this.applyMode({applyDark:this.BrowserDarkPref.matches,doEvent:true});localStorage.removeItem(this.Key)}};zolaTheme.color.init();zolaTheme.analytics={HashEnableKey:"#enable-analytics",HashDisableKey:"#disable-analytics",KeyValue:"t",enable:function({key:key}){return localStorage.removeItem(key)},disable:function({key:key}){return localStorage.setItem(key,this.KeyValue)},isEnabled:function({key:key,init:init}){if(init){if(window.location.hash===this.HashEnableKey){if(localStorage.getItem(key)===this.KeyValue){this.enable({key:key});alert("Analytics is now ENABLED in this browser. To disable analytics, load #disable-analytics.")}}else if(window.location.hash===this.HashDisableKey){if(localStorage.getItem(key)!==this.KeyValue){this.disable({key:key});alert("Analytics is now DISABLED in this browser. To enable analytics, load #enable-analytics.")}}}return localStorage.getItem(key)!==this.KeyValue},initGoatCounter:function({src:src,endpoint:endpoint}){if(this.isEnabled({key:"skipgc",init:true})){const newScript=document.createElement("script");newScript.async=true;newScript.src=src;newScript.dataset.goatcounter=endpoint;if(undefined!=document.body){document.body.appendChild(newScript)}else if(undefined!=document.head){document.head.appendChild(newScript)}}},initVercel:function({src:src}){if(this.isEnabled({key:"va-disable",init:true})){if(undefined==window.va){window.va=function(){(window.vaq=window.vaq||[]).push(arguments)}}const newScript=document.createElement("script");newScript.async=true;newScript.src=src;if(undefined!=document.body){document.body.appendChild(newScript)}else if(undefined!=document.head){document.head.appendChild(newScript)}}}};zolaTheme.katex={init:function(){window.renderMathInElement(document.body,{delimiters:[{left:"$$",right:"$$",display:true},{left:"$",right:"$",display:false}],throwOnError:false})}};zolaTheme.menu={toggleHeader:function(){zolaTheme.color.HtmlClass.toggle("open")}};zolaTheme.mermaid={init:function({mermaid:mermaid,s:s}){this.Mermaid=mermaid;const mermaidBlocks=document.querySelectorAll(s);mermaidBlocks.forEach(function(element){element.setAttribute("data-mermaid-code",element.innerHTML)});this.initMermaid({isDark:zolaTheme.color.HtmlClass.contains(zolaTheme.color.DarkClass)});document.body.addEventListener(zolaTheme.color.EventName,function(e){zolaTheme.mermaid.rerender(mermaidBlocks,e)})},rerender:function(mermaidBlocks,e){mermaidBlocks.forEach(function(element){const mermaidCode=element.getAttribute("data-mermaid-code");if(mermaidCode!=null){element.removeAttribute("data-processed");element.innerHTML=mermaidCode}});zolaTheme.mermaid.initMermaid({isDark:e.detail===zolaTheme.color.DarkPrefName})},initMermaid:function({isDark:isDark}){this.Mermaid.initialize({theme:isDark?"dark":"default",themeVariables:{darkMode:isDark},startOnLoad:false});this.Mermaid.run()}};zolaTheme.search={init:function({scripts:scripts,arg:arg}){this.SearchFiles=scripts;this.ElWrapper=document.querySelector(arg.w);this.ElResults=document.querySelector(arg.r)},toggle:function(){this.ElWrapper.classList.remove("hidden");const q=prompt("Enter your search term");if(null==q){this.ElWrapper.classList.add("hidden");return true}if("undefined"===typeof searchIndex&&"undefined"===typeof elasticlunr){this.ElResults.innerHTML="<li>Search: Please wait...</li>";Promise.all(this.SearchFiles.map(this.loadScript)).catch(error=>{this.showError("<li>Search file not found: <code>"+error+"</code></li>")}).then(t=>{this.index=elasticlunr.Index.load(window.searchIndex);this.act(q)})}else{this.act(q)}},act:function(q){const results=this.index.search(q);const resultsCount=results.length;if(resultsCount>0){const rows=["<li><strong>"+resultsCount+"</strong> search "+(resultsCount===1?"result":"results")+" for <code>"+this.myEscape(q)+"</code>:</li>"];for(let i=0;i<resultsCount;i++){const result=results[i];rows.push('<li><a href="'+this.myEscape(result.ref)+'">'+this.myEscape(result.doc.title)+"</a></li>")}this.ElResults.innerHTML=rows.join("")}else{this.showError("<li>No search results for <code>"+this.myEscape(q)+"</code>.</li>")}this.ElResults.scrollIntoViewIfNeeded()},showError:function(err){this.ElResults.innerHTML=err;this.ElResults.scrollIntoViewIfNeeded()},myEscape:function(code){return code.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")},loadScript:function(fileName){return new Promise(function(resolve,reject){const newScript=document.createElement("script");newScript.onload=function(){return resolve(fileName)};newScript.onerror=function(){return reject(fileName)};newScript.async=true;newScript.src=fileName;document.head.appendChild(newScript)})}};zolaTheme.trans={initButton:function({btn:btn,rel:rel}){const pageLanguage=document.documentElement.getAttribute("lang");const pageTranslations=document.head.querySelectorAll('link[rel="alternate"][hreflang]');let userLanguages=[];if(pageTranslations.length<2)return;else if(pageTranslations.length===2)userLanguages=[pageTranslations[0].getAttribute("hreflang"),pageTranslations[1].getAttribute("hreflang")];else if(navigator.languages)userLanguages=navigator.languages;else if(navigator.language!=undefined)userLanguages=[navigator.language];else if(navigator.userLanguage!=undefined)userLanguages=[navigator.userLanguage];const pageTranslationsLinks=new Map;pageTranslations.forEach(function(el){const hreflang=el.getAttribute("hreflang");const href=rel==="true"?el.dataset.href:el.getAttribute("href");if(hreflang!==pageLanguage){pageTranslationsLinks.set(hreflang,href);const hreflangcode=hreflang.split("-")[0];if(!pageTranslationsLinks.has(hreflangcode)){pageTranslationsLinks.set(hreflangcode,href)}}});const pageTranslationLink=this.getTransLink(userLanguages,pageTranslationsLinks);if(undefined!=pageTranslationLink){btn.classList.remove("hidden");btn.addEventListener("click",function(){window.location.href=pageTranslationLink})}},getTransLink:function(userLanguages,pageTranslationsLinks){for(let i=0;i<userLanguages.length;i++){const userLanguage=userLanguages[i];const pageTranslationLink=pageTranslationsLinks.get(userLanguage)||pageTranslationsLinks.get(userLanguage.split("-")[0]);if(undefined!=pageTranslationLink){return pageTranslationLink}}}};